<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Danny-Liu</title>
  
  <subtitle>Stay Hungry, Stay Foolish</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://github.com/Danny-Liu/"/>
  <updated>2018-05-05T13:11:07.940Z</updated>
  <id>http://github.com/Danny-Liu/</id>
  
  <author>
    <name>丨余笙゜ 暖阳</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Maven Tomcat插件对Web项目进行热部署</title>
    <link href="http://github.com/Danny-Liu/2018/03/27/tomcat%E7%83%AD%E9%83%A8%E7%BD%B2/"/>
    <id>http://github.com/Danny-Liu/2018/03/27/tomcat热部署/</id>
    <published>2018-03-26T23:03:16.000Z</published>
    <updated>2018-05-05T13:11:07.940Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="Maven-Tomcat&#x63D2;&#x4EF6;&#x5BF9;Web&#x9879;&#x76EE;&#x8FDB;&#x884C;&#x70ED;&#x90E8;&#x7F72;"><a href="#Maven-Tomcat&#x63D2;&#x4EF6;&#x5BF9;Web&#x9879;&#x76EE;&#x8FDB;&#x884C;&#x70ED;&#x90E8;&#x7F72;" class="headerlink" title="Maven Tomcat&#x63D2;&#x4EF6;&#x5BF9;Web&#x9879;&#x76EE;&#x8FDB;&#x884C;&#x70ED;&#x90E8;&#x7F72;"></a>Maven Tomcat&#x63D2;&#x4EF6;&#x5BF9;Web&#x9879;&#x76EE;&#x8FDB;&#x884C;&#x70ED;&#x90E8;&#x7F72;</h2><h3 id="&#x2160;-&#x672C;&#x5730;&#x73AF;&#x5883;"><a href="#&#x2160;-&#x672C;&#x5730;&#x73AF;&#x5883;" class="headerlink" title="&#x2160;.&#x672C;&#x5730;&#x73AF;&#x5883;"></a>&#x2160;.&#x672C;&#x5730;&#x73AF;&#x5883;</h3><blockquote><p> IntelliJ IDEA 2018.1.1</p><p>apache-tomcat-8.5.29</p><p>apache-maven-3.5.3</p></blockquote><h3 id="&#x2161;-Tomcat&#x914D;&#x7F6E;"><a href="#&#x2161;-Tomcat&#x914D;&#x7F6E;" class="headerlink" title="&#x2161;.Tomcat&#x914D;&#x7F6E;"></a>&#x2161;.Tomcat&#x914D;&#x7F6E;</h3><blockquote><p>&#x627E;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E2D;tomcat_home&#x7684;<strong>conf</strong>&#x76EE;&#x5F55;&#x4E0B;&#x7684;<strong>tomcat-users.xml</strong></p></blockquote><img src="/2018/03/27/tomcat&#x70ED;&#x90E8;&#x7F72;/1-tomcat-folder.png"><blockquote><p>&#x914D;&#x7F6E;&#x7528;&#x6237;&#x7684;&#x89D2;&#x8272;&#x548C;&#x6743;&#x9650;&#xFF0C;&#x5728;tomcat-users.xml&#x4E2D;&#x4E0B;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;:</p></blockquote><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">&quot;admin-gui&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">&quot;admin-script&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">&quot;manager-gui&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">&quot;manager-script&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">&quot;manager-jmx&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">&quot;manager-status&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">user</span> <span class="attr">name</span>=<span class="string">&quot;tomcat&quot;</span> <span class="attr">password</span>=<span class="string">&quot;tomcat&quot;</span> <span class="attr">roles</span>=<span class="string">&quot;manager-gui,manager-script,manager-jmx,admin-script,admin-gui&quot;</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><img src="/2018/03/27/tomcat&#x70ED;&#x90E8;&#x7F72;/2-tomcat-users.png"><blockquote><p>&#x5728;tomcat_home/conf/Catalina/localhost&#x4E0B;&#xFF0C;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;manager.xml&#xFF0C;&#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;manager</p></blockquote><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Context</span> <span class="attr">privileged</span>=<span class="string">&quot;true&quot;</span> <span class="attr">antiResourceLocking</span>=<span class="string">&quot;false&quot;</span>   </span></span><br><span class="line"><span class="tag">         <span class="attr">docBase</span>=<span class="string">&quot;${catalina.home}/webapps/manager&quot;</span>&gt;</span>  </span><br><span class="line">             <span class="tag">&lt;<span class="name">Valve</span> <span class="attr">className</span>=<span class="string">&quot;org.apache.catalina.valves.RemoteAddrValve&quot;</span> <span class="attr">allow</span>=<span class="string">&quot;^.*$&quot;</span> /&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">Context</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><img src="/2018/03/27/tomcat&#x70ED;&#x90E8;&#x7F72;/2.1.png"><blockquote><p><strong>&#x914D;&#x7F6E;&#x8BF4;&#x660E;&#xFF1A;</strong></p><p>manager-gui&#xFF1A;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;html&#x63A5;&#x53E3;(&#x5373;URL&#x8DEF;&#x5F84;&#x4E3A;/manager/html/)<br>manager-script&#xFF1A;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x7EAF;&#x6587;&#x672C;&#x63A5;&#x53E3;(&#x5373;URL&#x8DEF;&#x5F84;&#x4E3A;/manager/text/)<br>manager-jmx&#xFF1A;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;JMX&#x4EE3;&#x7406;&#x63A5;&#x53E3;(&#x5373;URL&#x8DEF;&#x5F84;&#x4E3A;/manager/jmxproxy/)<br>manager-status&#xFF1A;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;Tomcat&#x53EA;&#x8BFB;&#x72B6;&#x6001;&#x9875;&#x9762;(&#x5373;URL&#x8DEF;&#x5F84;&#x4E3A;/manager/status/)</p><p>&#x4ECE;Tomcat Manager&#x5185;&#x90E8;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x53EF;&#x4EE5;&#x5F97;&#x77E5;&#xFF0C;manager-gui&#x3001;manager-script&#x3001;manager-jmx&#x5747;&#x5177;&#x5907;manager-status&#x7684;&#x6743;&#x9650;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;manager-gui&#x3001;manager-script&#x3001;manager-jmx&#x4E09;&#x79CD;&#x89D2;&#x8272;&#x6743;&#x9650;&#x65E0;&#x9700;&#x518D;&#x989D;&#x5916;&#x6DFB;&#x52A0;manager-status&#x6743;&#x9650;&#xFF0C;&#x5373;&#x53EF;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&#x201D;/manager/status/*&#x201D;&#x3002;</p></blockquote><h3 id="&#x2162;-Maven"><a href="#&#x2162;-Maven" class="headerlink" title="&#x2162;.Maven"></a>&#x2162;.Maven</h3><blockquote><p>&#x5728;Maven&#x7684;&#x5B89;&#x88C5;&#x8DEF;&#x5F84;&#x627E;&#x5230;conf&#x76EE;&#x5F55;&#x4E0B;&#x7684;setting.xml&#x6587;&#x4EF6;&#xFF0C;&#x5728;<servers>&#x8282;&#x70B9;&#x4E2D;&#x6DFB;&#x52A0;&#x4E0A;&#x4E00;&#x6B65;&#x4E2D;&#x914D;&#x7F6E;&#x7684;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</servers></p></blockquote><img src="/2018/03/27/tomcat&#x70ED;&#x90E8;&#x7F72;/3.png"><img src="/2018/03/27/tomcat&#x70ED;&#x90E8;&#x7F72;/4-maven-settings.png"><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>test<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">username</span>&gt;</span>tomcat<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">password</span>&gt;</span>tomcat<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>&#x914D;&#x7F6E;&#x8BF4;&#x660E;&#xFF1A;</strong></p><p>&#x914D;&#x7F6E;&#x4E2D;&#x7684;id&#x53EF;&#x4EE5;&#x4EFB;&#x610F;&#x586B;&#x5199;&#xFF0C;&#x4F46;username&#x548C;password&#x5FC5;&#x987B;&#x548C;&#x4E0A;&#x4E00;&#x6B65;&#x914D;&#x7F6E;&#x7684;&#x4E00;&#x81F4;</p></blockquote><h3 id="&#x2163;-&#x9879;&#x76EE;&#x914D;&#x7F6E;"><a href="#&#x2163;-&#x9879;&#x76EE;&#x914D;&#x7F6E;" class="headerlink" title="&#x2163;.&#x9879;&#x76EE;&#x914D;&#x7F6E;"></a>&#x2163;.&#x9879;&#x76EE;&#x914D;&#x7F6E;</h3><blockquote><p>&#x5728;maven web&#x9879;&#x76EE;&#x7684;pom.xml&#x6587;&#x4EF6;&#x7684;<plugins>&#x8282;&#x70B9;&#x4E2D;&#xFF0C;&#x6DFB;&#x52A0;tomcat&#x7684;maven&#x63D2;&#x4EF6;&#xFF1A;</plugins></p></blockquote><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--tomcat deploy--&gt;</span><br><span class="line">&lt;plugin&gt;</span><br><span class="line">  &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;2.2&lt;/version&gt;</span><br><span class="line">  &lt;configuration&gt;</span><br><span class="line">    &lt;url&gt;http://server-ip&#x5730;&#x5740;/manager/text&lt;/url&gt;</span><br><span class="line">    &lt;!--&lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;--&gt;</span><br><span class="line">    &lt;path&gt;/parent&lt;/path&gt;</span><br><span class="line">    &lt;uriEncoding&gt;UTF-8&lt;/uriEncoding&gt;</span><br><span class="line">    &lt;update&gt;true&lt;/update&gt;</span><br><span class="line">    &lt;server&gt;test&lt;/server&gt;</span><br><span class="line">    &lt;!--&lt;username&gt;tomcat&lt;/username&gt;</span><br><span class="line">    &lt;password&gt;tomcat&lt;/password&gt;--&gt;</span><br><span class="line">  &lt;/configuration&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x914D;&#x7F6E;&#x5B8C;&#x6210;</p></blockquote><img src="/2018/03/27/tomcat&#x70ED;&#x90E8;&#x7F72;/5-project-pom.png"><h3 id="&#x2164;-&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x90E8;&#x7F72;"><a href="#&#x2164;-&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x90E8;&#x7F72;" class="headerlink" title="&#x2164;.&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x90E8;&#x7F72;"></a>&#x2164;.&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x90E8;&#x7F72;</h3><blockquote><p> &#x542F;&#x52A8;maven&#xFF0C;&#x5728;Configurations&#x4E2D;&#x586B;&#x4E0A;tomcat7:redeploy&#x5C31;&#x53EF;&#x4EE5;run&#x8D77;&#x6765;&#x4E86;&#xFF08;&#x5FC5;&#x987B;&#x5148;&#x542F;&#x52A8;tomcat&#x670D;&#x52A1;&#x5668;&#xFF09;</p></blockquote><img src="/2018/03/27/tomcat&#x70ED;&#x90E8;&#x7F72;/6-mvn.png"><blockquote><p>&#x90E8;&#x7F72;&#x6210;&#x529F;</p></blockquote><img src="/2018/03/27/tomcat&#x70ED;&#x90E8;&#x7F72;/7.png"><blockquote><p>&#x8BBF;&#x95EE;</p></blockquote><img src="/2018/03/27/tomcat&#x70ED;&#x90E8;&#x7F72;/8.png"><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x5E38;&#x7528;maven tomcat&#x63D2;&#x4EF6;&#x914D;&#x7F6E;</span><br><span class="line">tomcat7:deploy &#x90E8;&#x7F72;&#x4E00;&#x4E2A;web war&#x5305; </span><br><span class="line">tomcat7:reload &#x91CD;&#x65B0;&#x52A0;&#x8F7D;web war&#x5305; </span><br><span class="line">tomcat7:start &#x542F;&#x52A8;tomcat </span><br><span class="line">tomcat7:stop &#x505C;&#x6B62;tomcat </span><br><span class="line">tomcat7:undeploy &#x505C;&#x6B62;&#x4E00;&#x4E2A;war&#x5305; </span><br><span class="line">tomcat7:run &#x542F;&#x52A8;&#x5D4C;&#x5165;&#x5F0F;tomcat &#xFF0C;&#x5E76;&#x8FD0;&#x884C;&#x5F53;&#x524D;&#x9879;&#x76EE;</span><br></pre></td></tr></tbody></table></figure><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      
      
        &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;Maven-Tomcat&amp;#x63D2;&amp;#x4EF6;&amp;#x5BF9;Web&amp;#x9879;&amp;#x76EE;&amp;#x8FDB;&amp;#x884C;&amp;#x70ED;&amp;#x90E8;&amp;#x7F72;&quot;&gt;&lt;a href=&quot;#
      
    
    </summary>
    
      <category term="java" scheme="http://github.com/Danny-Liu/categories/java/"/>
    
    
      <category term="maven" scheme="http://github.com/Danny-Liu/tags/maven/"/>
    
      <category term="tomcat" scheme="http://github.com/Danny-Liu/tags/tomcat/"/>
    
      <category term="热部署" scheme="http://github.com/Danny-Liu/tags/%E7%83%AD%E9%83%A8%E7%BD%B2/"/>
    
      <category term="java" scheme="http://github.com/Danny-Liu/tags/java/"/>
    
  </entry>
  
</feed>
